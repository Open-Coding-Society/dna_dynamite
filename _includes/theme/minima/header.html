<!-- This fragment overrides the default header provided by the remote minima theme to add support for login functionality.  -->
{% unless page.hide %}
<header class="site-header bg-gray-900 py-4 relative z-50">
  <div class="wrapper flex justify-between items-center">
    <a class="site-title text-3xl font-semibold text-white" rel="author" href="{{ "/" | relative_url }}">
      {{ site.title | escape }}
    </a>

    <!-- Hamburger trigger (peer) -->
    <div class="relative md:hidden ml-auto pr-4">
      <input type="checkbox" id="nav-toggle" class="hidden peer" />
      <label for="nav-toggle" class="cursor-pointer z-50">
        <svg viewBox="0 0 18 15" width="30" height="24">
          <path fill="white" d="M18,1.5c0,0.8-0.7,1.5-1.5,1.5H1.5C0.7,3,0,2.3,0,1.5S0.7,0,1.5,0h15C17.3,0,18,0.7,18,1.5z 
            M18,7.5c0,0.8-0.7,1.5-1.5,1.5H1.5C0.7,9,0,8.3,0,7.5S0.7,6,1.5,6h15C17.3,6,18,6.7,18,7.5z 
            M18,13.5c0,0.8-0.7,1.5-1.5,1.5H1.5C0.7,15,0,14.3,0,13.5S0.7,12,1.5,12h15C17.3,12,18,12.7,18,13.5z"/>
        </svg>
      </label>
      
      <!-- Slide-out menu -->
      <div class="fixed top-0 left-0 h-full w-64 bg-gray-800 text-white transform -translate-x-full peer-checked:translate-x-0 transition-transform duration-300 ease-in-out z-40 p-6">
        <div class="flex flex-col space-y-4 text-lg font-medium">
          {% for path in site.header_pages %}
            {% assign my_page = site.pages | where: "path", path | first %}
            {% if my_page.title %}
              <a class="hover:bg-gray-700 p-2 rounded" href="{{ my_page.url | relative_url }}">{{ my_page.title | escape }}</a>
            {% endif %}
          {% endfor %}
          <a href="{{ site.baseurl }}/login" class="hover:bg-gray-700 p-2 rounded">Login</a>
        </div>
      </div>
    </div>

    <!-- Desktop nav -->
    <nav class="hidden md:flex space-x-6 items-center text-white font-medium">
      {% for path in site.header_pages %}
        {% assign my_page = site.pages | where: "path", path | first %}
        {% if my_page.title %}
          <a class="hover:underline" href="{{ my_page.url | relative_url }}">{{ my_page.title | escape }}</a>
        {% endif %}
      {% endfor %}
      <a href="{{ site.baseurl }}/login" class="hover:underline">Login</a>
    </nav>
  </div>
</header>

<script type="module" src="{{ site.baseurl }}/assets/js/api/login.js"></script>
{% endunless %}
